# Swagger ì‚¬ìš©ë²• ê·¸ë¦¬ê³  ì»¤ìŠ¤í„°ë§ˆì´ì§•


## ğŸ—’ï¸ ë…¸íŠ¸ ì£¼ì œ

---

- Swaggerë€ ë¬´ì—‡ì¸ê°€??
- Swagger ì‚¬ìš©ë°©ë²•
- Swagger ì»¤ìŠ¤í„°ë§ˆì´ì§• í•˜ëŠ” ë°©ë²•

## ğŸ—ï¸ í•µì‹¬

---

## Swaggerë€ ë¬´ì—‡ì¸ê°€?

---

 ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ì™€ í†µì‹ ì„ í•˜ê¸° ìœ„í•´ì„œ ì¸í„°í˜ì´ìŠ¤ ë¬¸ì„œë¥¼ ì‘ì„±ì„ í•˜ê³ , ì´ë¥¼ ê³µìœ í•˜ë©´ì„œ API ê·œê²©ì„ ë§ì¶° ë‚˜ê°„ë‹¤.

 ê¸°ì¡´ì— íŒ€ì—ì„œëŠ” Excelì„ ê³µìœ í•˜ì—¬ ë¬¸ì„œë¡œ ê´€ë¦¬í•˜ê³ , í…ŒìŠ¤íŠ¸ëŠ” Postmanì„ í†µí•´ì„œ í…ŒìŠ¤íŠ¸í•˜ê³  í´ë¼ì´ì–¸íŠ¸ì—ê²Œ í…ŒìŠ¤íŠ¸ ë°©ë²•ì„ ì•ˆë‚´í•  ë•Œì—ëŠ” Postmanì˜ Export ê¸°ëŠ¥ì„ í†µí•´ JSONíŒŒì¼ë¡œ í…ŒìŠ¤íŠ¸ ëª…ì„¸ë¥¼ ì „ë‹¬í•˜ì˜€ë‹¤.

 ê·¸ëŸ¬ë‚˜ Swaggerì˜ ë„ì…ìœ¼ë¡œ ì¸í•´ ì„œë²„ê°€ ì •ìƒ ê¸°ë™ë§Œ ë˜ì–´ìˆìœ¼ë©´ ì›¹ìƒì—ì„œ ë°”ë¡œ í™•ì¸ ë° í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•˜ê²Œ ì œê³µí•  ìˆ˜ ìˆë‹¤.

 ê·¸ë¦¬ê³  Swaggerì—ì„œ ì œê³µí•˜ëŠ” api-docsì˜ JSON íŒŒì¼ì„ ì´ìš©í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œëŠ” Swagger Buildë¥¼ í†µí•´ ê°ì²´ ìƒì„± ë° í˜¸ì¶œ í•¨ìˆ˜ê¹Œì§€ ìë™ìœ¼ë¡œ ì™„ì„±ì‹œì¼œì£¼ì–´ ê°œë°œ ì†ë„ê°€ í–¥ìƒëœë‹¤.

 ê·¸ëŸ¼ **Swaggerë€ ì •í™•í•˜ê²Œ ë¬´ì—‡ì¸ê°€?** 

> **Swagger**Â ëŠ” REST APIë¥¼ ì„¤ê³„, êµ¬ì¶•, ë¬¸ì„œí™” ë° ì‚¬ìš©í•˜ëŠ” ë° ë„ì›€ì´ ë  ìˆ˜ ìˆëŠ” OpenAPI ì‚¬ì–‘ì„ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•ëœ ì˜¤í”ˆ ì†ŒìŠ¤ ë„êµ¬ ì„¸íŠ¸ì…ë‹ˆë‹¤.
> 

[About Swagger Specification | Documentation | Swagger](https://swagger.io/docs/specification/about/)

 ê¸°ì¡´ì˜ ëª…ì¹­ì€ springfox swagger ë¼ëŠ” ëª…ì¹­ìœ¼ë¡œ ë˜ì–´ ìˆë‹¤ê°€, ì–´ëŠë¶€í„° springdoc-openapië¡œ ë³€ê²½ì´ ë˜ì—ˆê³ , springfox swaggerì˜ ê²½ìš°ì—ëŠ” íŠ¹ì • ë²„ì „ë§Œ springbootì—ì„œ ì •ìƒ ë™ì‘í•˜ëŠ” ì˜¤ë¥˜ê°€ ìˆì—ˆëŠ”ë° springdoc-openapië¡œ ë³€ê²½ë¨ì— ë”°ë¼ì„œëŠ” í˜¸í™˜ì„± ì´ìŠˆëŠ” ì‚¬ë¼ì§„ ê²ƒ ê°™ë‹¤. *í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ì¤‘ì¼ë•Œ excute ë²„íŠ¼ì´ ë¹„í™œì„±í™” ë˜ëŠ” ê¸°ëŠ¥ë„ ì¶”ê°€ë¨*

Swaggerê°€ ì œê³µí•´ì£¼ëŠ” ë„êµ¬ ì¤‘ì—ì„œ Swagger-ui íˆ´ì„ í†µí•´ì„œ ì›¹ìƒì—ì„œ í‘œì¶œí•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ì‘ì„±í•´ë³´ê² ë‹¤.

## Swagger ì‚¬ìš© ë°©ë²•

---

 Swaggerì˜ ì‚¬ìš©ë°©ë²•ì€ Java Spring Boot + Gradleì„ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…í•˜ê² ë‹¤.

1. Gradle ì„¤ì •
    
    ```groovy
    implementation 'org.springframework.boot:spring-boot-starter'
    implementation 'org.springframework.boot:spring-boot-starter-web:2.7.0'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
    
    /* SWAGGER */
    implementation group: 'org.springdoc', name: 'springdoc-openapi-ui', version: '1.6.9'
    ```
    
    > Swagger-ui ë²„ì „ì •ë³´ëŠ” í™•ì¸ì„ í†µí•´ ì„¤ì • í•  ê²ƒ
    > 
    
2. API ì„¤ëª… ì‘ì„±
- ì• ë…¸í…Œì´ì…˜ ë°©ë²•
    
    ```java
    @OpenAPIDefinition(info = @Info(title = "Hustar API ëª…ì„¸ì„œ",
                    description = "API ëª…ì„¸ì„œ",
                    version = "v1",
                    contact = @Contact(name = "taehyeonkim", email = "taehyeonkim@kakao.com")
            )
    )
    ```
    
- Java Config íŒŒì¼ ë°©ë²•
    
    ```java
    @Configuration
    public class SwaggerConfig {
        @Bean
        public OpenAPI openAPI() {
    
            Info info = new Info().title("Hustar API ëª…ì„¸ì„œ").version("v1")
                    .description("API ëª…ì„¸ì„œ")
                    .contact(new Contact().name("taehyeonkim").email("taehyeonkim@kakao.com"))
                    .license(new License().name("Apache License Version 2.0").url("http://www.apache.org/licenses/LICENSE-2.0.html"));
    
            return new OpenAPI()
                    .components(new Components())
                    .info(info);
        }
    }
    ```
    
    > **ë‘ê°€ì§€ì¤‘ í•œê°€ì§€ ë°©ë²•ìœ¼ë¡œ ì„ íƒ**
    > 

1. Controller, Vo ì— ì„¤ëª… ì‘ì„±
    
    ```java
    // Controller
    
    @RestController
    public class TestController {
    
        @Operation(summary = "ì´ë¦„ì„ ì¶œë ¥í•˜ëŠ” Controller", description = "ì…ë ¥ íŒŒë¼ë¯¸í„° ì´ë¦„ ì¶œë ¥")
        @PostMapping("/test")
        public TestResultVo test(@RequestBody TestParmVo testParmVo){
            return TestResultVo.builder()
                    .result(testParmVo.getName())
                    .build();
        }
    
        @Operation(summary = "ë©”ì„¸ì§€ë¥¼ ì¶œë ¥í•˜ëŠ” Controller", description = "ì…ë ¥ íŒŒë¼ë¯¸í„° ë©”ì„¸ì§€ ì¶œë ¥")
        @PostMapping("/test2")
        public TestResultVo test2(@RequestBody TestParmVo testParmVo){
            return TestResultVo.builder()
                    .result(testParmVo.getMessage())
                    .build();
        }
    }
    ```
    
    ```java
    @Getter
    @Setter
    @ToString
    public class TestParmVo {
        @Schema(description = "ì´ë¦„", example = "ê¹€íƒœí˜„")
        String name;
    
        @Schema(description = "ì¸ì‚¬ë§", example = "ì•ˆë…•í•˜ì„¸ìš”")
        String message;
    }
    ```
    
    > Swagger Annotaion ì¶”ê°€ ì„¤ëª…ì€ ê³µì‹ wikiì—ì„œ í™•ì¸
    > 
    > 
    > [Annotations Â· swagger-api/swagger-core Wiki](https://github.com/swagger-api/swagger-core/wiki/Annotations)
    > 

1. ë¡œì»¬ ì„œë²„ ê¸°ë™ í›„ [localhost:8080](http://localhost:8080)/swagger-ui.html ì ‘ì†
    
    ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-07-02 á„‰á…µá„€á…¡á†«: 10.44.51.png](Swagger%20%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%20%E1%84%80%E1%85%B3%E1%84%85%E1%85%B5%E1%84%80%E1%85%A9%20%E1%84%8F%E1%85%A5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A5%E1%84%86%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8C%E1%85%B5%E1%86%BC%20839b56b3485a41b489336dd45b2c9321/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2022-07-02_%E1%84%89%E1%85%B5%E1%84%80%E1%85%A1%E1%86%AB_10.44.51.png)
    
2. í™•ì¸
    
    ![ì„¤ëª… ì‘ì„±í•œ ë¶€ë¶„ ìœ„ì¹˜](Swagger%20%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%20%E1%84%80%E1%85%B3%E1%84%85%E1%85%B5%E1%84%80%E1%85%A9%20%E1%84%8F%E1%85%A5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A5%E1%84%86%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8C%E1%85%B5%E1%86%BC%20839b56b3485a41b489336dd45b2c9321/swagger_%E1%84%89%E1%85%A5%E1%86%AF%E1%84%86%E1%85%A7%E1%86%BC.jpg)
    
    ì„¤ëª… ì‘ì„±í•œ ë¶€ë¶„ ìœ„ì¹˜
    
    ![ê²°ê³¼ í™•ì¸](Swagger%20%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%20%E1%84%80%E1%85%B3%E1%84%85%E1%85%B5%E1%84%80%E1%85%A9%20%E1%84%8F%E1%85%A5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A5%E1%84%86%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8C%E1%85%B5%E1%86%BC%20839b56b3485a41b489336dd45b2c9321/%E1%84%80%E1%85%A7%E1%86%AF%E1%84%80%E1%85%AA_%E1%84%89%E1%85%A5%E1%86%AF%E1%84%86%E1%85%A7%E1%86%BC.png)
    
    ê²°ê³¼ í™•ì¸
    

## Swagger ì»¤ìŠ¤í„°ë§ˆì´ì§•

---

 OpenAPIì´ë¯€ë¡œ Swaggerì— ë¡œê³ ë„ ë°”ê¾¸ê³  ìƒ‰ìƒë„ ë°”ê¾¸ê³  ì‚¬ìš©ìì˜ ì…ë§›ì— ë°”ê¿€ìˆ˜ê°€ ìˆëŠ”ë° ê·¸ì¤‘ ë¡œê³ ì™€ í—¤ë” ìƒ‰ìƒ ë°”ê¾¸ëŠ” ê²ƒë§Œ ì„¤ëª…ì„ í•˜ê³ ì í•œë‹¤.

- GIt Issueì— ìˆëŠ” css pathë¥¼ í†µí•œ ì»¤ìŠ¤í„°ë§ˆì´ì§•

[https://github.com/springdoc/springdoc-openapi/issues/737](https://github.com/springdoc/springdoc-openapi/issues/737)

> í•´ë‹¹ ë°©ì‹ìœ¼ë¡œ í•˜ê²Œ ë˜ë©´ Swagger Pathì— í•´ë‹¹ Controllerë¥¼ ì˜ˆì™¸ ì²˜ë¦¬ í•´ì¤˜ì•¼ ë˜ë©°, ë‚´ê°€ ë°”ê¾¸ê³  ì‹¶ì€ ë¶€ë¶„ ë§ˆë‹¤ Endpointë¥¼ ë§Œë“œëŠ” ëŠë‚Œì´ë¼ ê°œì¸ì ìœ¼ë¡œëŠ” ë¹„ì¶”
> 

- Swagger UI Resourceë¥¼ í†µí•œ ì§ì ‘ ì»¤ìŠ¤í„°ë§ˆì´ì§•

1. swagger-ui resource ë‹¤ìš´
    
    [https://github.com/swagger-api/swagger-ui](https://github.com/swagger-api/swagger-ui) ì—ì„œ dist í´ë” ë‹¤ìš´ 
    
    ë˜ëŠ” Gradleì—ì„œ Importëœ Resourceë¥¼ ì‚¬ìš©
    
    ![Untitled](Swagger%20%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%20%E1%84%80%E1%85%B3%E1%84%85%E1%85%B5%E1%84%80%E1%85%A9%20%E1%84%8F%E1%85%A5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A5%E1%84%86%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8C%E1%85%B5%E1%86%BC%20839b56b3485a41b489336dd45b2c9321/Untitled.png)
    

1. ì¸í„°ë„· íƒ­ ì•„ì´ì½˜ , ì´ë¦„ ë³€ê²½
    
    ```html
    <!-- index.html -->
    
    <!-- HTML for static distribution bundle build -->
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="UTF-8">
    
    		**<!-- í•´ë‹¹ ë¶€ë¶„ ì´ë¦„ ë³€ê²½ -->
        <title>Hustar Swagger UI</title>
    		<!-- í•´ë‹¹ ë¶€ë¶„ ì´ë¦„ ë³€ê²½ ë -->**
    
        <link rel="stylesheet" type="text/css" href="./swagger-ui.css" />
        <link rel="stylesheet" type="text/css" href="index.css" />
    
    		**<!-- í•´ë‹¹ ë¶€ë¶„ ì•„ì´ì½˜ ë¦¬ì†ŒìŠ¤ ë³€ê²½ -->
        <link rel="icon" type="image/png" href="./hustar_32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="./hustar_32x32.png" sizes="16x16" />
    		<!-- í•´ë‹¹ ë¶€ë¶„ ì•„ì´ì½˜ ë¦¬ì†ŒìŠ¤ ë³€ê²½ ë -->**
    
      </head>
    
      <body>
        <div id="swagger-ui"></div>
        <script src="./swagger-ui-bundle.js" charset="UTF-8"> </script>
        <script src="./swagger-ui-standalone-preset.js" charset="UTF-8"> </script>
        <script src="./swagger-initializer.js" charset="UTF-8"> </script>
      </body>
    </html>
    ```
    

1. Swagger-ui ì™¼ìª½ ìƒë‹¨ ë¡œê³  ë³€ê²½
    1. ì ë‹¹í•œ ì´ë¯¸ì§€ ë¡œê³ (ë°°ê²½ì´ ì—†ëŠ” png íŒŒì¼ ì¶”ì²œ) ì¤€ë¹„í•´ì„œ Resourceí´ë” ì•ˆì— ë„£ì–´ë†“ê¸°
        
        ![Untitled](Swagger%20%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%20%E1%84%80%E1%85%B3%E1%84%85%E1%85%B5%E1%84%80%E1%85%A9%20%E1%84%8F%E1%85%A5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A5%E1%84%86%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8C%E1%85%B5%E1%86%BC%20839b56b3485a41b489336dd45b2c9321/Untitled%201.png)
        
    2. swagger-ui-standalone-preset.js ìˆ˜ì • (ë°°ë„ˆ ì´ë¯¸ì§€ ë³€ê²½)
        
        ```jsx
        // ê¸°ì¡´
        
        return p.createElement("div", {className: "topbar"}, p.createElement("div", {className: "wrapper"}, p.createElement("div", {className: "topbar-wrapper"}, p.createElement(o, null, p.createElement("img", {
                                    height: "40",                            
                                    src: j,                            
                                    alt: "Swagger UI"
                                })), p.createElement("form", {
                                    className: "download-url-wrapper",
                                    onSubmit: f
                                }, b()(c).call(c, (function (t, e) {
                                    return (0, p.cloneElement)(t, {key: e})
                                }))))))
        ```
        
        ```jsx
        // ë³€ê²½
        
        return p.createElement("div", {className: "topbar"}, p.createElement("div", {className: "wrapper"}, p.createElement("div", {className: "topbar-wrapper"}, p.createElement(o, null, p.createElement("img", {
                                    height: "40",
                                    // TODO :: ë°”ê¿ˆ
                                    src: "./Hustar.png",
                                    // TODO :: ë°”ê¿ˆ
                                    alt: "Hustar - Swagger UI"
                                })), p.createElement("form", {
                                    className: "download-url-wrapper",
                                    onSubmit: f
                                }, b()(c).call(c, (function (t, e) {
                                    return (0, p.cloneElement)(t, {key: e})
                                }))))))
        ```
        
    
    4. ìƒë‹¨ ë°°ë„ˆ Back-ground ìƒ‰ìƒ ë³€ê²½
    
    Index.css íŒŒì¼ ìˆ˜ì •
    
    ```css
    /** index.css **/
    
    .swagger-ui .topbar {
        background-color: lightgray;
    }
    ```
    
    1. ê²°ê³¼ í™•ì¸
        
        ![Untitled](Swagger%20%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%20%E1%84%80%E1%85%B3%E1%84%85%E1%85%B5%E1%84%80%E1%85%A9%20%E1%84%8F%E1%85%A5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A5%E1%84%86%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8C%E1%85%B5%E1%86%BC%20839b56b3485a41b489336dd45b2c9321/Untitled%202.png)
        

## ğŸ”— ì°¸ê³  ë…¸íŠ¸

---
